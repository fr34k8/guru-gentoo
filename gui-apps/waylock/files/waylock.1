.\" Generated by scdoc 1.11.3
.\" Complete documentation for this program is not available as a GNU info page
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.nh
.ad l
.\" Begin generated content:
.TH "WAYLOCK" "1" "2025-09-20" "https://codeberg.org/ifreund/waylock" "General Commands Manual"
.PP
.SH NAME
.PP
waylock - a small Wayland screenlocker
.PP
.SH SYNOPSIS
.PP
\fBwaylock\fR [\fIoptions\fR]
.PP
.SH DESCRIPTION
.PP
Waylock is a small screenlocker for Wayland compositors implementing
\fBext-session-lock-v1\fR.\& The \fBext-session-lock-v1\fR protocol is significantly
more robust than previous client-side Wayland screen locking approaches.\&
Importantly, the screenlocker crashing does not cause the session to be
unlocked.\&
.PP
.SH OPTIONS
.PP
\fB-h\fR
.RS 4
Print a help message and exit.\&
.PP
.RE
\fB-version\fR
.RS 4
Print the version number and exit.\&
.PP
.RE
\fB-log-level\fR [\fBerror\fR|\fBwarning\fR|\fBinfo\fR|\fBdebug\fR]
.RS 4
Set the log level of waylock.\& At the \fBerror\fR log level, only errors
are logged.\&  At the \fBdebug\fR log level, everything is logged including
verbose debug messages.\&
.PP
.RE
\fB-fork-on-lock\fR
.RS 4
Fork to the background after locking the session.\& This is useful to
integrate with idle management daemons without racing to lock the
session before suspend.\& With this option waylock will exit once the
session has been locked and it is safe to suspend.\&
.PP
.RE
\fB-ready-fd\fR \fIfd\fR
.RS 4
Write a newline to file descriptor \fIfd\fR (a number) after locking and
close the \fIfd\fR.\& This is useful if a fork-less lock notification is needed;
for example, for integration with a service manager.\&
.PP
.RE
\fB-ignore-empty-password\fR
.RS 4
Do not submit empty passwords to PAM for validation when the Enter
key is pressed.\& Instead, do nothing.\& This may be useful if, for
example, the Enter key is used to wake the computer from sleep.\&
.PP
.RE
\fB-init-color\fR \fI0xRRGGBB\fR
.RS 4
Set the initial color.\& (default: 0x002b36)
.PP
.RE
\fB-input-color\fR \fI0xRRGGBB\fR
.RS 4
Set the color used after input.\& (default: 0x6c71c4)
.PP
.RE
\fB-input-alt-color\fR \fI0xRRGGBB\fR
.RS 4
Set the alternate color used after input.\& (default is what
\fB-input-color\fR is set to)
.PP
.RE
\fB-fail-color\fR \fI0xRRGGBB\fR
.RS 4
Set the color used on authentication failure.\& (default: 0xdc322f)
.PP
.RE
.SH USAGE
.PP
Run the waylock executable to lock the session.\& All monitors will be blanked
with the \fB-init-color\fR.\& Typing causes the color to change to the
\fB-input-color\fR.\& If \fB-input-alt-color\fR is set, the typing color will alternate
between this and the former.\& Esc or Ctrl-U clears all current input, while
backspace deletes the last UTF-8 codepoint.\&
.PP
To unlock the session, type your password and press Enter.\& If the password
is correct, waylock will unlock the session and exit.\& Otherwise, the color
will change to the \fB-fail-color\fR and you may try again.\&
.PP
In order to automatically run waylock after a certain amount of time with
no input or before sleep, the \fBswayidle\fR(1) utility or a similar program
may be used.\& See the \fBswayidle\fR(1) man page for details.\&
.PP
.SH AUTHORS
.PP
Maintained by Isaac Freund <mail@isaacfreund.\&com> who is assisted by open
source contributors.\& For more information about waylock'\&s development, see
https://codeberg.\&org/ifreund/waylock.\&
.PP
.SH SEE ALSO
.PP
\fBpam\fR(8), \fBswayidle\fR(1)
